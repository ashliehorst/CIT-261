<!DOCTYPE html>
<html>
<head>
  <script>
var xmlhttp = new XMLHttpRequest();
var url = "workouts.txt";
var myArr;
xmlhttp.onreadystatechange = function() {
    if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
        myArr = JSON.parse(xmlhttp.responseText);
        myFunction(myArr);
    }
}
xmlhttp.open("GET", url, true);
xmlhttp.send();

function myFunction(myArr) {
    var out = "<select name = \"workout\" style = \"font-size: 16px\" onchange=\"workoutChange(this.value)\">";
    out += "<option value =''>Choose Day</option>";
    var i;
    for(i = 0; i < myArr.length; i++) {
        out += "<option value ='" + i + "'>" + myArr[i].display + "</option>";
    }
    out += "</select>";
    document.getElementById("id01").innerHTML = out;
}

function workoutChange(value){
    var out = "";
    document.getElementById("workoutDay").innerHTML = myArr[value].day;
}

function pageLoadCounter() {
    if (!localStorage.getItem('loadCounter')) {
      localStorage.setItem('loadCounter', 0);
    }
    localStorage.setItem('loadCounter', parseInt(localStorage.getItem('loadCounter')) + 1);
    document.getElementById('counter').innerHTML = localStorage.getItem('loadCounter');
  }
  </script>
</head>
<body onload="pageLoadCounter()">
    <p>Using AJAX and JSON with another file</p>
    <p>I want to use Animation and Transitions to make this look nice</p>
    <p>Local storage for check-ins with JS onload</p>
<div id="id01"></div></br>
<div id="workoutDay"></div>
<p>You are on a <span id="counter"></span> check-in streak. Keep it up!</p>


</body>
</html>
